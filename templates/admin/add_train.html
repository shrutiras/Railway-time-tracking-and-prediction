<!DOCTYPE html>
<html>
<head><title>Add Train</title></head>
<body>
  <h2>Add Train</h2>
  <form id="trainForm">
    <label>Name:</label><input type="text" id="name"><br>
    <label>Route:</label><input type="text" id="route"><br>
    <button type="submit">Add Train</button>
  </form>

  <script>
    document.getElementById('trainForm').onsubmit = async (e) => {
      e.preventDefault();
      const res = await fetch('/add_train', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer ' + localStorage.getItem('token')
        },
        body: JSON.stringify({
          name: name.value,
          route: route.value
        })
      });
      const data = await res.json();
      alert(data.detail || 'Train added');
    };
  </script>
</body>
</html>
